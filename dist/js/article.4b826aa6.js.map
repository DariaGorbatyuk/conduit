{"version":3,"file":"js/article.4b826aa6.js","mappings":"0pBAwDA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MACTC,GAAYC,EAAAA,EAAAA,KAAS,IAAMP,EAAMQ,MAAMC,QAAQH,YAC/CG,GAAUF,EAAAA,EAAAA,KAAS,IAAMP,EAAMQ,MAAMC,QAAQC,OAC7CC,GAASJ,EAAAA,EAAAA,KAAS,IAAMP,EAAMQ,MAAMC,QAAQE,SAC5CC,GAAcL,EAAAA,EAAAA,KAAS,IAAMP,EAAMa,QAAQC,EAAAA,GAAAA,eAC3CC,GAAWR,EAAAA,EAAAA,KAAS,OACnBK,IAAgBH,IACdG,EAAYI,MAAMC,WAAaR,EAAQO,MAAME,OAAOD,WAEvDE,EAAgB,KACpBnB,EAAMoB,SAASC,EAAAA,GAAAA,cAAkC,CAAEC,KAAMpB,EAAMqB,OAAOD,OAAQE,MAAK,KACjFpB,EAAOqB,KAAK,CAACC,KAAM,cAAnB,GADF,E,OAIFC,EAAAA,EAAAA,KAAU,KACR3B,EAAMoB,SAASC,EAAAA,GAAAA,WAA+B,CAAEC,KAAMpB,EAAMqB,OAAOD,MAAnE,I,i0CCtEF,MAAMM,EAAc,EAEpB,O","sources":["webpack://app/./src/views/Article.vue","webpack://app/./src/views/Article.vue?8f9a"],"sourcesContent":["<template>\n  <div class=\"article-page\">\n    <div class=\"banner\">\n      <div class=\"container\" v-if=\"article\">\n        <h1>{{ article.title }}</h1>\n        <div class=\"article-meta\">\n          <router-link :to=\"{name:'userProfile',\n          params: {slug: article.author.username}}\">\n            <img :src=\"article.author.image\" alt=\"\">\n          </router-link>\n          <div class=\"info\">\n            <router-link :to=\"{name:'userProfile',\n          params: {slug: article.author.username}}\">\n              {{ article.author.username }}\n            </router-link>\n            <span class=\"date\">{{ article.createdAt }}</span>\n          </div>\n          <span v-if=\"isAuthor\">\n            <router-link class=\"btn btn-outline-secondary btn-sm\"\n                         :to=\"{name: 'editArticle',\n                         params: {slug: article.slug}}\">\n              <i class=\"ion-edit\">Edit article</i>\n            </router-link>\n            <button class=\"btn btn-outline-danger btn-sm\" @click.prevent=\"deleteArticle\">\n              <i class=\"ion-trash-a\">\n                Delete article\n              </i>\n            </button>\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class=\"container page\">\n      <mcv-loading v-if=\"isLoading\"></mcv-loading>\n      <mcv-error-message v-if=\"errors\"></mcv-error-message>\n      <div class=\"row article-content\" v-if=\"article\">\n        <div class=\"col-xs-12\">\n          <div>\n            <p>{{ article.body }}</p>\n          </div>\n          <mcv-tag-list :tags=\"article.tagList\"></mcv-tag-list>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, onMounted } from \"vue\";\nimport { actionTypes as articleActionTypes } from \"@/store/modules/articles\";\nimport { getterTypes as authGetterTypes } from \"@/store/modules/auth\";\nimport { useStore } from \"vuex\";\nimport { useRoute, useRouter } from \"vue-router/dist/vue-router\";\nimport McvLoading from \"@/components/Loading\";\nimport McvErrorMessage from \"@/components/ErrorMessage\";\nimport McvTagList from \"@/components/TagList\"\nconst store = useStore();\nconst route = useRoute();\nconst router = useRouter()\nconst isLoading = computed(() => store.state.article.isLoading);\nconst article = computed(() => store.state.article.data);\nconst errors = computed(() => store.state.article.errors);\nconst currentUser = computed(() => store.getters[authGetterTypes.currentUser]);\nconst isAuthor = computed(() => {\n  if (!currentUser || !article) return false;\n  return currentUser.value.username === article.value.author.username;\n});\nconst deleteArticle = () => {\n  store.dispatch(articleActionTypes.deleteArticle, { slug: route.params.slug }).then(()=>{\n    router.push({name: 'globalFeed'})\n  })\n};\nonMounted(() => {\n  store.dispatch(articleActionTypes.getArticle, { slug: route.params.slug });\n});\n</script>\n\n<style scoped>\n\n</style>\n","import script from \"./Article.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Article.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["store","useStore","route","useRoute","router","useRouter","isLoading","computed","state","article","data","errors","currentUser","getters","authGetterTypes","isAuthor","value","username","author","deleteArticle","dispatch","articleActionTypes","slug","params","then","push","name","onMounted","__exports__"],"sourceRoot":""}